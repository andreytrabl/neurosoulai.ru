<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ ‚Äî NeuroSoul AI</title>

  <link href="https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/main.css" />

  <style>
    .crumb{display:inline-block;color:var(--muted);text-decoration:none;margin:14px 0 18px}
    .crumb:hover{color:var(--ink)}

    .service-layout{
      display:grid;grid-template-columns:1.1fr .9fr;gap:44px;align-items:center;margin:8px 0 56px;
    }

    /* –º–µ–¥–∏–∞-–±–ª–æ–∫ –±–µ–∑ –ø–æ–¥–ª–æ–∂–µ–∫ */
    .ex-card{background:transparent;border-radius:0;box-shadow:none;padding:0}

    .ex-slider{position:relative}
    .ex-viewport{
      width:100%;
      aspect-ratio:1/1;
      overflow:visible;
      background:transparent;
      display:grid; place-items:center;

      /* —á—Ç–æ–±—ã —Å–≤–∞–π–ø –Ω–µ –ª–æ–º–∞–ª –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
      touch-action: pan-y;
      user-select:none;
      cursor:grab;
    }
    .ex-slider.is-dragging .ex-viewport{cursor:grabbing;}

    .ex-viewport img{
      display:block; width:100%; height:100%; object-fit:cover;
      border-radius:14px;
      pointer-events:none;             /* –∏—Å–∫–ª—é—á–∞–µ–º –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω—ã–µ —Ö–æ–≤–µ—Ä—ã */
      -webkit-user-drag:none;
      transition:transform .18s ease;  /* –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ—Å–ª–µ drag */
    }

    .ex-arrow{
      --s:38px; position:absolute; top:50%; transform:translateY(-50%);
      width:var(--s); height:var(--s); border:0; border-radius:999px;
      background:#fff; box-shadow:0 6px 16px rgba(0,0,0,.12); cursor:pointer; z-index:2;
    }
    .ex-arrow::before{
      content:""; position:absolute; inset:0; margin:auto; width:12px; height:12px;
      border-top:2px solid #333; border-right:2px solid #333; transform:rotate(45deg);
    }
    .ex-prev{left:10px}
    .ex-prev::before{transform:rotate(225deg)}
    .ex-next{right:10px}

    .ex-dots{display:flex; gap:6px; justify-content:center; margin-top:10px}
    .ex-dot{width:7px; height:7px; border-radius:999px; background:#d7d7d7}
    .ex-dot.is-active{background:#222}

    .s-title{margin:.3rem 0 .4rem;font-weight:900;font-size:clamp(22px,3vw,28px)}
    .s-price{font-weight:800;margin:.1rem 0}
    .s-deadline{font-weight:600;margin:.1rem 0 .8rem}
    .s-desc{color:var(--muted);margin:0 0 1.2rem}
    .s-cta{display:flex;gap:12px;flex-wrap:wrap}

    @media (max-width:900px){
      .service-layout{grid-template-columns:1fr;gap:18px}
      .ex-card{order:1}
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="index.html" aria-label="NeuroSoul ‚Äî –Ω–∞ –≥–ª–∞–≤–Ω—É—é">
        <img src="assets/logo.webp" alt="NeuroSoul logo">
      </a>

      <input id="nav-toggle" class="nav-toggle" type="checkbox" aria-hidden="true">
      <label class="burger" for="nav-toggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" aria-controls="main-menu" aria-expanded="false">
        <span></span>
      </label>

      <nav id="main-menu" class="menu" aria-label="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é">
        <a href="index.html#about"    onclick="document.getElementById('nav-toggle').checked=false">–û –Ω–∞—Å</a>
        <a href="index.html#services" onclick="document.getElementById('nav-toggle').checked=false">–£—Å–ª—É–≥–∏</a>
        <a href="index.html#reviews"  onclick="document.getElementById('nav-toggle').checked=false">–û—Ç–∑—ã–≤—ã</a>
        <a href="index.html#contacts" onclick="document.getElementById('nav-toggle').checked=false">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="index.html#contacts" class="order-link" onclick="document.getElementById('nav-toggle').checked=false">–ó–∞–∫–∞–∑–∞—Ç—å</a>
      </nav>

      <a class="btn header-cta" href="index.html#contacts">–ó–∞–∫–∞–∑–∞—Ç—å</a>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <a class="crumb" href="index.html#services">‚Üê –ù–∞–∑–∞–¥</a>

        <div class="service-layout">
          <!-- –°–ª–µ–≤–∞: –ø—Ä–æ—Å—Ç–æ–π —Å–ª–∞–π–¥–µ—Ä -->
          <div class="ex-card">
            <div class="ex-slider" id="exSlider" aria-roledescription="carousel">
              <button class="ex-arrow ex-prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"></button>
              <div class="ex-viewport" id="exViewport">
                <img id="exImage" src="assets/img/examples/restoration/ex-restoration-01.webp" alt="–ü—Ä–∏–º–µ—Ä —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏–∏ 1" loading="eager">
              </div>
              <button class="ex-arrow ex-next" aria-label="–°–ª–µ–¥—É—é—â–µ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"></button>
            </div>
            <div class="ex-dots" id="exDots" aria-hidden="false"></div>
          </div>

          <!-- –°–ø—Ä–∞–≤–∞: –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏ -->
          <div>
            <h1 class="s-title">–†–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏—è —Ñ–æ—Ç–æ</h1>
            <div class="s-price">–æ—Ç 500 ‚ÇΩ –∑–∞ 1 —Ñ–æ—Ç–æ</div>
            <div class="s-deadline">–°—Ä–æ–∫–∏: 1‚Äì2 –¥–Ω—è</div>

            <div class="s-desc">
              –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ª—é–±—ã—Ö —Å—Ç–∞—Ä—ã—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π: –ø–æ—Ä–≤–∞–Ω–Ω—ã—Ö, —á—ë—Ä–Ω–æ-–±–µ–ª—ã—Ö,
              –∏—Å–ø–∞—á–∫–∞–Ω–Ω—ã—Ö, –≤—ã—Ü–≤–µ—Ç—à–∏—Ö, –Ω–∏–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ üé®
            </div>

            <ul class="s-desc" style="list-style:none;padding:0;margin:0 0 1.2rem">
              <li>‚Äî –£–±–µ—Ä—ë–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</li>
              <li>‚Äî –†–∞—Å–∫—Ä–∞—Å–∏–º</li>
              <li>‚Äî –ü–æ–≤—ã—Å–∏–º –∫–∞—á–µ—Å—Ç–≤–æ</li>
              <li>‚Äî –ü—Ä–∏—à–ª—ë–º —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø–µ—á–∞—Ç–∏</li>
            </ul>

            <div class="s-desc">–î–µ–ª–∞–µ–º —Ä—É–∫–∞–º–∏ –≤ Photoshop –∏ –¥–æ–∂–∏–º–∞–µ–º —á–µ—Ä–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ ü§ñ</div>

            <div class="s-cta">
              <a class="btn btn-primary" href="index.html#contacts">–ó–∞–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ</a>
              <a class="btn btn-tg" href="https://t.me/neurosoulai?direct" target="_blank" rel="noopener">–ó–∞–∫–∞–∑–∞—Ç—å –≤ Telegram</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const images = [
      "assets/img/examples/restoration/ex-restoration-01.webp",
      "assets/img/examples/restoration/ex-restoration-02.webp",
      "assets/img/examples/restoration/ex-restoration-03.webp",
      "assets/img/examples/restoration/ex-restoration-04.webp",
      "assets/img/examples/restoration/ex-restoration-05.webp",
      "assets/img/examples/restoration/ex-restoration-06.webp",
      "assets/img/examples/restoration/ex-restoration-07.webp",
      "assets/img/examples/restoration/ex-restoration-08.webp"
    ];
    images.forEach(src => { const i = new Image(); i.src = src; });

    const imgEl   = document.getElementById('exImage');
    const dotsWrap= document.getElementById('exDots');
    const slider  = document.getElementById('exSlider');
    const viewport= document.getElementById('exViewport');

    let idx = 0;

    // —Ç–æ—á–∫–∏
    images.forEach((_, i) => {
      const b = document.createElement('button');
      b.type = 'button';
      b.className = 'ex-dot' + (i===0 ? ' is-active' : '');
      b.addEventListener('click', () => show(i));
      dotsWrap.appendChild(b);
    });

    function show(i){
      idx = (i + images.length) % images.length;
      imgEl.src = images[idx];
      imgEl.alt = `–ü—Ä–∏–º–µ—Ä —Ä–µ—Å—Ç–∞–≤—Ä–∞—Ü–∏–∏ ${idx+1}`;
      [...dotsWrap.children].forEach((d, n) => d.classList.toggle('is-active', n === idx));
    }

    document.querySelector('.ex-prev').addEventListener('click', () => show(idx-1));
    document.querySelector('.ex-next').addEventListener('click', () => show(idx+1));
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') show(idx-1);
      if (e.key === 'ArrowRight') show(idx+1);
    });

    /* ===== –°–≤–∞–π–ø/drag (Pointer Events) ===== */
    let pointerId = null, startX = 0, startY = 0, deltaX = 0;

    function onDown(e){
      pointerId = e.pointerId ?? 'mouse';
      startX = e.clientX; startY = e.clientY; deltaX = 0;
      slider.classList.add('is-dragging');
      if (imgEl.style) imgEl.style.transition = 'none';
      if (e.pointerId != null) viewport.setPointerCapture(e.pointerId);
    }
    function onMove(e){
      if (pointerId === null) return;
      if (e.pointerId != null && e.pointerId !== pointerId) return;
      deltaX = e.clientX - startX;
      const dY = Math.abs(e.clientY - startY);
      // –µ—Å–ª–∏ –∏–¥—ë—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π drag ‚Äî –¥–∞—ë–º –≤–∏–∑—É–∞–ª—å–Ω—É—é –æ—Ç–¥–∞—á—É
      if (Math.abs(deltaX) > dY) {
        imgEl.style.transform = `translateX(${deltaX * 0.25}px)`;
      }
    }
    function onUp(e){
      if (pointerId === null || (e.pointerId != null && e.pointerId !== pointerId)) return;
      if (e.pointerId != null) viewport.releasePointerCapture(e.pointerId);
      slider.classList.remove('is-dragging');
      imgEl.style.transition = 'transform .18s ease';
      imgEl.style.transform = 'translateX(0)';

      const dY = Math.abs(e.clientY - startY);
      if (Math.abs(deltaX) > 50 && Math.abs(deltaX) > dY) {
        // –≤–ø—Ä–∞–≤–æ -> –ø—Ä–µ–¥—ã–¥—É—â–µ–µ, –≤–ª–µ–≤–æ -> —Å–ª–µ–¥—É—é—â–µ–µ
        show(deltaX > 0 ? idx-1 : idx+1);
      }
      pointerId = null;
    }

    // Pointer Events: —Ä–∞–±–æ—Ç–∞—é—Ç –∏ –Ω–∞ touch, –∏ –Ω–∞ –º—ã—à–∏
    viewport.addEventListener('pointerdown', onDown);
    viewport.addEventListener('pointermove', onMove);
    viewport.addEventListener('pointerup', onUp);
    viewport.addEventListener('pointercancel', onUp);

    // –î–ª—è —Ç—Ä–µ–∫–ø–∞–¥–æ–≤ –º–æ–∂–Ω–æ –ª–∏—Å—Ç–∞—Ç—å –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–º—É wheel
    viewport.addEventListener('wheel', (e) => {
      if (Math.abs(e.deltaX) > Math.abs(e.deltaY) && Math.abs(e.deltaX) > 20) {
        e.preventDefault();
        show(e.deltaX > 0 ? idx+1 : idx-1);
      }
    }, { passive:false });
  </script>
</body>
</html>
