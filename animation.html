<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>–û–∂–∏–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ ‚Äî NeuroSoul AI</title>

  <link href="https://fonts.googleapis.com/css2?family=Onest:wght@100..900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles/main.css" />

  <!-- –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–µ–º–æ-–≤–∏–¥–µ–æ -->
  <link rel="preload" as="video" href="assets/video/examples/animation/ex-animation-01.mp4">
  <link rel="preload" as="video" href="assets/video/examples/animation/ex-animation-02.mp4">

  <style>
    .crumb{display:inline-block;color:var(--muted);text-decoration:none;margin:14px 0 18px}
    .crumb:hover{color:var(--ink)}

    .service-layout{
      display:grid;grid-template-columns:1.1fr .9fr;gap:44px;align-items:center;margin:8px 0 56px;
    }

    /* –º–µ–¥–∏–∞-–±–ª–æ–∫ –±–µ–∑ –ø–æ–¥–ª–æ–∂–µ–∫ */
    .ex-card{background:transparent;border-radius:0;box-shadow:none;padding:0}

    .ex-slider{position:relative}
    .ex-viewport{
      width:100%;
      aspect-ratio:1/1;               /* –∫–∞–∫ –Ω–∞ restoration.html */
      overflow:visible;
      background:transparent;
      display:grid; place-items:center;

      touch-action: pan-y;            /* —Å–≤–∞–π–ø –Ω–µ –ª–æ–º–∞–µ—Ç –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
      user-select:none;
      cursor:grab;
    }
    .ex-slider.is-dragging .ex-viewport{cursor:grabbing;}

    .ex-viewport video{
      display:block; width:100%; height:100%;
      object-fit:contain;             /* –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Å—å –∫–∞–¥—Ä */
      border-radius:14px;
      -webkit-user-drag:none;
      transition:transform .18s ease; /* –ª—ë–≥–∫–∏–π –≤–æ–∑–≤—Ä–∞—Ç –ø–æ—Å–ª–µ drag */
      background:#000;                /* –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ –ø–æ–ª—è –ø–æ –∫—Ä–∞—è–º */
    }

    .ex-arrow{
      --s:38px; position:absolute; top:50%; transform:translateY(-50%);
      width:var(--s); height:var(--s); border:0; border-radius:999px;
      background:#fff; box-shadow:0 6px 16px rgba(0,0,0,.12); cursor:pointer; z-index:2;
    }
    .ex-arrow::before{
      content:""; position:absolute; inset:0; margin:auto; width:12px; height:12px;
      border-top:2px solid #333; border-right:2px solid #333; transform:rotate(45deg);
    }
    .ex-prev{left:10px}
    .ex-prev::before{transform:rotate(225deg)}
    .ex-next{right:10px}

    .ex-dots{display:flex; gap:6px; justify-content:center; margin-top:10px}
    .ex-dot{width:7px; height:7px; border-radius:999px; background:#d7d7d7}
    .ex-dot.is-active{background:#222}

    .s-title{margin:.3rem 0 .4rem;font-weight:900;font-size:clamp(22px,3vw,28px)}
    .s-price{font-weight:800;margin:.1rem 0}
    .s-deadline{font-weight:600;margin:.1rem 0 .8rem}
    .s-desc{color:var(--muted);margin:0 0 1.2rem}
    .s-cta{display:flex;gap:12px;flex-wrap:wrap}

    @media (max-width:900px){
      .service-layout{grid-template-columns:1fr;gap:18px}
      .ex-card{order:1}
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="index.html" aria-label="NeuroSoul ‚Äî –Ω–∞ –≥–ª–∞–≤–Ω—É—é">
        <img src="assets/logo.webp" alt="NeuroSoul logo">
      </a>

      <input id="nav-toggle" class="nav-toggle" type="checkbox" aria-hidden="true">
      <label class="burger" for="nav-toggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é" aria-controls="main-menu" aria-expanded="false">
        <span></span>
      </label>

      <nav id="main-menu" class="menu" aria-label="–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é">
        <a href="index.html#about"    onclick="document.getElementById('nav-toggle').checked=false">–û –Ω–∞—Å</a>
        <a href="index.html#services" onclick="document.getElementById('nav-toggle').checked=false">–£—Å–ª—É–≥–∏</a>
        <a href="index.html#reviews"  onclick="document.getElementById('nav-toggle').checked=false">–û—Ç–∑—ã–≤—ã</a>
        <a href="index.html#contacts" onclick="document.getElementById('nav-toggle').checked=false">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        <a href="index.html#contacts" class="order-link" onclick="document.getElementById('nav-toggle').checked=false">–ó–∞–∫–∞–∑–∞—Ç—å</a>
      </nav>

      <a class="btn header-cta" href="index.html#contacts">–ó–∞–∫–∞–∑–∞—Ç—å</a>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <a class="crumb" href="index.html#services">‚Üê –ù–∞–∑–∞–¥</a>

        <div class="service-layout">
          <!-- –°–ª–µ–≤–∞: –ø—Ä–æ—Å—Ç–æ–π –≤–∏–¥–µ–æ—Å–ª–∞–π–¥–µ—Ä -->
          <div class="ex-card">
            <div class="ex-slider" id="exSlider" aria-roledescription="carousel">
              <button class="ex-arrow ex-prev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ –≤–∏–¥–µ–æ"></button>
              <div class="ex-viewport" id="exViewport">
                <video id="exVideo"
                  src="assets/video/examples/animation/ex-animation-01.mp4"
                  controls preload="metadata" playsinline
                ></video>
              </div>
              <button class="ex-arrow ex-next" aria-label="–°–ª–µ–¥—É—é—â–µ–µ –≤–∏–¥–µ–æ"></button>
            </div>
            <div class="ex-dots" id="exDots" aria-hidden="false"></div>
          </div>

          <!-- –°–ø—Ä–∞–≤–∞: –æ–ø–∏—Å–∞–Ω–∏–µ —É—Å–ª—É–≥–∏ -->
          <div>
            <h1 class="s-title">–û–∂–∏–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ</h1>
            <div class="s-price">–æ—Ç 500 ‚ÇΩ –∑–∞ 1 —Ñ–æ—Ç–æ</div>
            <div class="s-deadline">–°—Ä–æ–∫–∏: 1‚Äì2 –¥–Ω—è</div>

            <div class="s-desc">
              –û–∂–∏–≤–∏–º –ª—é–±–æ–µ –≤–∞—à–µ —Ñ–æ—Ç–æ: —Å—Ç–∞—Ä–æ–µ –∏–ª–∏ –Ω–æ–≤–æ–µ, —á—ë—Ä–Ω–æ-–±–µ–ª–æ–µ –∏–ª–∏ —Ü–≤–µ—Ç–Ω–æ–µ,
              –Ω–∏–∑–∫–æ–≥–æ (—Ç–æ–≥–¥–∞ —É–ª—É—á—à–∏–º) –∏ —Ö–æ—Ä–æ—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ üé®
            </div>

            <ul class="s-desc" style="list-style:none;padding:0;margin:0 0 1.2rem">
              <li>‚Äî –£–±–µ—Ä—ë–º –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏</li>
              <li>‚Äî –†–∞—Å–∫—Ä–∞—Å–∏–º</li>
              <li>‚Äî –ü–æ–≤—ã—Å–∏–º –∫–∞—á–µ—Å—Ç–≤–æ</li>
              <li>‚Äî –ü–æ–¥–±–µ—Ä—ë–º —Ö–æ—Ä–æ—à–∏–π —Ñ–æ—Ä–º–∞—Ç</li>
            </ul>

            <div class="s-desc">–î–µ–ª–∞–µ–º —á–µ—Ä–µ–∑ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ ü§ñ</div>

            <div class="s-cta">
              <a class="btn btn-primary" href="index.html#contacts">–ó–∞–∫–∞–∑–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ</a>
              <a class="btn btn-tg" href="https://t.me/neurosoulai?direct" target="_blank" rel="noopener">–ó–∞–∫–∞–∑–∞—Ç—å –≤ Telegram</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <script>
    const videos = [
      "assets/video/examples/animation/ex-animation-01.mp4",
      "assets/video/examples/animation/ex-animation-02.mp4"
    ];

    const videoEl = document.getElementById('exVideo');
    const dotsWrap= document.getElementById('exDots');
    const slider  = document.getElementById('exSlider');
    const viewport= document.getElementById('exViewport');

    let idx = 0;

    // —Ç–æ—á–∫–∏
    videos.forEach((_, i) => {
      const b = document.createElement('button');
      b.type = 'button';
      b.className = 'ex-dot' + (i===0 ? ' is-active' : '');
      b.addEventListener('click', () => show(i));
      dotsWrap.appendChild(b);
    });

    function show(i){
      idx = (i + videos.length) % videos.length;

      // –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ –≤–∏–¥–µ–æ –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º src ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
      try { videoEl.pause(); } catch(e){}
      videoEl.removeAttribute('src');
      videoEl.load();

      videoEl.src = videos[idx];
      videoEl.load();

      [...dotsWrap.children].forEach((d, n) => d.classList.toggle('is-active', n === idx));
    }

    document.querySelector('.ex-prev').addEventListener('click', () => show(idx-1));
    document.querySelector('.ex-next').addEventListener('click', () => show(idx+1));
    document.addEventListener('keydown', (e) => {
      if (e.key === 'ArrowLeft') show(idx-1);
      if (e.key === 'ArrowRight') show(idx+1);
    });

    /* ===== –°–≤–∞–π–ø/drag (Pointer Events) ===== */
    let pointerId = null, startX = 0, startY = 0, deltaX = 0;

    function onDown(e){
      pointerId = e.pointerId ?? 'mouse';
      startX = e.clientX; startY = e.clientY; deltaX = 0;
      slider.classList.add('is-dragging');
      if (videoEl.style) videoEl.style.transition = 'none';
      if (e.pointerId != null) viewport.setPointerCapture(e.pointerId);
    }
    function onMove(e){
      if (pointerId === null) return;
      if (e.pointerId != null && e.pointerId !== pointerId) return;
      deltaX = e.clientX - startX;
      const dY = Math.abs(e.clientY - startY);
      if (Math.abs(deltaX) > dY) {
        videoEl.style.transform = `translateX(${deltaX * 0.25}px)`;
      }
    }
    function onUp(e){
      if (pointerId === null || (e.pointerId != null && e.pointerId !== pointerId)) return;
      if (e.pointerId != null) viewport.releasePointerCapture(e.pointerId);
      slider.classList.remove('is-dragging');
      videoEl.style.transition = 'transform .18s ease';
      videoEl.style.transform = 'translateX(0)';

      const dY = Math.abs(e.clientY - startY);
      if (Math.abs(deltaX) > 50 && Math.abs(deltaX) > dY) {
        show(deltaX > 0 ? idx-1 : idx+1);
      }
      pointerId = null;
    }

    viewport.addEventListener('pointerdown', onDown);
    viewport.addEventListener('pointermove', onMove);
    viewport.addEventListener('pointerup', onUp);
    viewport.addEventListener('pointercancel', onUp);

    // –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π wheel (—Ç—Ä–µ–∫–ø–∞–¥)
    viewport.addEventListener('wheel', (e) => {
      if (Math.abs(e.deltaX) > Math.abs(e.deltaY) && Math.abs(e.deltaX) > 20) {
        e.preventDefault();
        show(e.deltaX > 0 ? idx+1 : idx-1);
      }
    }, { passive:false });
  </script>
</body>
</html>
